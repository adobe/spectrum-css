import { Meta, Story } from '@storybook/blocks';
import * as ButtonStories from '../../components/button/stories/button.stories.js';
import * as CheckboxStories from '../../components/checkbox/stories/checkbox.stories.js';

<Meta title="Foundations/Down state" />

<h1>Down state</h1>

Down state is a Spectrum 2 (S2) feature that creates the illusion of components being pressed-in when active. This functionality is already included in S2 components that require down state in this project. It is implemented with a CSS transform. The implementation depends on the size of the interactable element:

  - If the interactable element has a width of 24px or less, we use the minimum perspective token:
    ```
    transform: perspective(var(--spectrum-component-size-minimum-perspective-down)) translateZ(var(--spectrum-component-size-difference-down));
    ```
  - If the interactable element has a width that is greater than 24px, we use the max formula:
    ```
    transform:
      perspective(max(var(--spectrum-downstate-height), var(--spectrum-downstate-width) * var(--spectrum-component-size-width-ratio-down)))
      translateZ(var(--spectrum-component-size-difference-down));
    ```
    - Note that in this case, users are required to develop an implementation to determine the width and height of the component. Assign these values to the `--spectrum-downstate-width` and `--spectrum-downstate-height` custom properties in a `style` attribute on the HTML element to expose them for use in the CSS.

<Story of={CheckboxStories.Default} />
<Story of={ButtonStories.DownStateDocs} />
