/*
Copyright 2022 Adobe. All rights reserved.
This file is licensed to you under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
OF ANY KIND, either express or implied. See the License for the specific language
governing permissions and limitations under the License.
*/


.spectrum-Breadcrumbs {
  /* block size */
  --spectrum-breadcrumbs-block-size: var(--spectrum-breadcrumbs-height);
  --spectrum-breadcrumbs-block-size-compact : var(--spectrum-breadcrumbs-height-compact);
  --spectrum-breadcrumbs-block-size-multiline: var(--spectrum-breadcrumbs-height-multiline);

  /* text regular */
  --spectrum-breadcrumbs-font-size : var(--spectrum-font-size-200);
  --spectrum-breadcrumbs-font-family : var(--spectrum-font-family-base); /* placeholder for --spectrum-font-family-default */
  --spectrum-breadcrumbs-font-weight : var(--spectrum-font-weight-regular); /* placeholder for --spectrum-font-regular */

  /* text regular active item */
  --spectrum-breadcrumbs-font-size-current : var(--spectrum-font-size-200);
  --spectrum-breadcrumbs-font-family-current: var(--spectrum-font-family-base); /* placeholder for --spectrum-font-family-default */
  --spectrum-breadcrumbs-font-weight-current: var(--spectrum-font-weight-bold); /* placeholder for --spectrum-font-bold */

  /* text compact */
  --spectrum-breadcrumbs-font-size-compact: var(--spectrum-font-size-100);
  --spectrum-breadcrumbs-font-family-compact: var(--spectrum-font-family-base); /* placeholder for --spectrum-font-family-default */
  --spectrum-breadcrumbs-font-weight-compact: var(--spectrum-font-weight-regular); /* placeholder for --spectrum-font-regular */

  /* text compact active item */
  --spectrum-breadcrumbs-font-size-compact-current: var(--spectrum-font-size-100);
  --spectrum-breadcrumbs-font-family-compact-current: var(--spectrum-font-family-base); /* placeholder for --spectrum-font-family-default */
  --spectrum-breadcrumbs-font-weight-compact-current: var(--spectrum-font-weight-bold); /* placeholder for --spectrum-font-bold */

  /* text multiline */
  --spectrum-breadcrumbs-font-size-multiline: var(--spectrum-font-size-75);
  --spectrum-breadcrumbs-font-family-multiline: var(--spectrum-font-family-base); /* placeholder for --spectrum-font-family-default */
  --spectrum-breadcrumbs-font-weight-multiline: var(--spectrum-font-weight-regular); /* placeholder for --spectrum-font-regular */

  /* text multiline active item */
  --spectrum-breadcrumbs-font-size-multiline-current: var(--spectrum-font-size-300);
  --spectrum-breadcrumbs-font-family-multiline-current: var(--spectrum-font-family-base); /* placeholder for --spectrum-font-family-default */
  --spectrum-breadcrumbs-font-weight-multiline-current: var(--spectrum-font-weight-bold); /* placeholder for --spectrum-font-bold */

  /* hover, active, focus underline */
  --spectrum-breadcrumbs-text-decoration-thickness : var(--spectrum-text-underline-thickness);
  --spectrum-breadcrumbs-text-decoration-gap : var(--spectrum-text-underline-gap);

  /* space between items */
  --spectrum-breadcrumbs-separator-spacing-inline : var(--spectrum-text-to-visual-100);

  /* vertical spacing */
  --spectrum-breadcrumbs-text-spacing-block-start: var(--spectrum-breadcrumbs-top-to-text);
  --spectrum-breadcrumbs-text-spacing-block-end: var(--spectrum-breadcrumbs-bottom-to-text);
  --spectrum-breadcrumbs-icon-spacing-block: var(--spectrum-breadcrumbs-top-to-separator-icon);

  /* compact vertical spacing */
  --spectrum-breadcrumbs-text-spacing-block-start-compact: var(--spectrum-breadcrumbs-top-to-text-compact);
  --spectrum-breadcrumbs-text-spacing-block-end-compact: var(--spectrum-breadcrumbs-bottom-to-text-compact);
  --spectrum-breadcrumbs-icon-spacing-block-compact: var(--spectrum-breadcrumbs-top-to-separator-icon-compact);

  /* multiline vertical spacing */
  --spectrum-breadcrumbs-text-spacing-block-start-multiline: var(--spectrum-breadcrumbs-top-to-text-multiline);
  --spectrum-breadcrumbs-text-spacing-block-end-multiline: var(--spectrum-breadcrumbs-bottom-to-text-multiline);
  --spectrum-breadcrumbs-text-spacing-block-between-multiline: var(--spectrum-breadcrumbs-top-text-to-bottom-text); /* vertical between lines */
  --spectrum-breadcrumbs-icon-spacing-block-start-multiline: var(--spectrum-breadcrumbs-top-to-separator-icon-multiline);
  --spectrum-breadcrumbs-icon-spacing-block-between-multiline : var(--spectrum-breadcrumbs-separator-icon-to-bottom-text-multiline); /* vertical between lines */

  /* horizontal outer spacing of list */
  --spectrum-breadcrumbs-inline-start : var(--spectrum-breadcrumbs-start-edge-to-text);
  --spectrum-breadcrumbs-inline-end : var(--spectrum-breadcrumbs-end-edge-to-text);

  /* menu action button icon spacing */
  --spectrum-breadcrumbs-action-button-spacing-inline: var(--spectrum-breadcrumbs-truncated-menu-to-separator-icon);

  /* action button spacing */
  --spectrum-breadcrumbs-action-button-spacing-block: var(--spectrum-breadcrumbs-top-to-truncated-menu);
  --spectrum-breadcrumbs-action-button-spacing-block-compact: var(--spectrum-breadcrumbs-top-to-truncated-menu-compact); /* compact */

  --spectrum-breadcrumbs-action-button-spacing-inline-start: var(--spectrum-breadcrumbs-start-edge-to-truncated-menu); /* if icon is first item */

  --spectrum-breadcrumbs-action-button-spacing-block-multiline: var(--spectrum-breadcrumbs-top-to-truncated-menu-compact); /* multiline */
  --spectrum-breadcrumbs-action-button-spacing-block-between-multiline: var(--spectrum-breadcrumbs-truncated-menu-to-bottom-text); /* multiline */

  /* Focus Indicator */
  --spectrum-breadcrumbs-focus-indicator-thickness: var(--spectrum-focus-indicator-thickness);
  --spectrum-breadcrumbs-focus-indicator-gap: var(--spectrum-focus-indicator-gap);

  /* placeholder for border radius for focus indicator */
  --spectrum-breadcrumbs-item-link-border-radius: var(--spectrum-corner-radius-100);

  /* COLORS */
  --spectrum-breadcrumbs-text-color : var(--spectrum-neutral-subdued-content-color-default);
  --spectrum-breadcrumbs-text-color-current: var(--spectrum-neutral-content-color-default);
  --spectrum-breadcrumbs-separator-color: var(--spectrum-neutral-content-color-default);
  --spectrum-breadcrumbs-action-button-color: var(--spectrum-neutral-subdued-content-color-default);
  --spectrum-breadcrumbs-action-button-color-disabled: var(--spectrum-disabled-content-color);

  --spectrum-breadcrumbs-focus-indicator-color: var(--spectrum-focus-indicator-color);
}

/* windows high contrast mode */
@media (forced-colors: active) {
  .spectrum-Breadcrumbs {

  }
}

.spectrum-Breadcrumbs {
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
  list-style-type: none;
  flex-wrap: nowrap;
  flex-grow: 1;
  flex-shrink: 0;
  flex-basis: 0%;

  margin: 0;
  /* horizontal spacing of list */
  padding-inline-start: var(--spectrum-breadcrumbs-inline-start);
  padding-inline-end: var(--spectrum-breadcrumbs-inline-end);

  block-size: var(--spectrum-breadcrumbs-block-size);

  &--compact {
    block-size: var(--spectrum-breadcrumbs-block-size-compact);
  }

  &--multiline {
    block-size: var(--spectrum-breadcrumbs-block-size-multiline);
  }
}

.spectrum-Breadcrumbs-itemSeparator {
  position: relative;

  margin-block: var(--spectrum-breadcrumbs-icon-spacing-block);
  margin-inline: var(--spectrum-breadcrumbs-separator-spacing-inline);

  transform: logical scale(1) rotate(0deg);

  opacity: 1;
  color: var(--spectrum-breadcrumbs-separator-color);

  .spectrum-Breadcrumbs--compact & {
    margin-block: var(--spectrum-breadcrumbs-icon-spacing-block-compact);
  }

  .spectrum-Breadcrumbs--multiline & {
    margin-block-start: var(--spectrum-breadcrumbs-icon-spacing-block-start-multiline);
    margin-block-end: var(--spectrum-breadcrumbs-icon-spacing-block-between-multiline);  /* vertical between lines */
  }

}

.spectrum-Breadcrumbs-item {
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;

  box-sizing: border-box;

  position: relative;

  white-space: nowrap;
  font-family: var(--spectrum-breadcrumbs-font-family);
  font-size: var(--spectrum-breadcrumbs-font-size);
  font-weight: var(--spectrum-breadcrumbs-font-weight);
  line-height: 1; /* placeholder for token */

  margin-block-start: var(--spectrum-breadcrumbs-text-spacing-block-start);
  margin-block-end: var(--spectrum-breadcrumbs-text-spacing-block-end);

  .spectrum-Breadcrumbs--compact & {
    font-family: var(--spectrum-breadcrumbs-font-family-compact);
    font-size: var(--spectrum-breadcrumbs-font-size-compact);
    font-weight: var(--spectrum-breadcrumbs-font-weight-compact);

    /* compact vertical spacing */
    margin-block-start: var(--spectrum-breadcrumbs-text-spacing-block-start-compact);
    margin-block-end: var(--spectrum-breadcrumbs-text-spacing-block-end-compact);

    > .spectrum-ActionButton {
      margin-block: var(--spectrum-breadcrumbs-action-button-spacing-block-compact);
    }
  }

  .spectrum-Breadcrumbs--multiline & {
    font-family: var(--spectrum-breadcrumbs-font-family-multiline);
    font-size: var(--spectrum-breadcrumbs-font-size-multiline);
    font-weight: var(--spectrum-breadcrumbs-font-weight-multiline);

    /* multiline vertical spacing */
    margin-block-start: var(--spectrum-breadcrumbs-text-spacing-block-start-multiline);
    margin-block-end: var(--spectrum-breadcrumbs-text-spacing-block-between-multiline); /* vertical between lines */

    &:last-of-type {
      block-size: auto;
      inline-size: 100%;

      margin-block-end: var(--spectrum-breadcrumbs-text-spacing-block-end-multiline);
    }

    > .spectrum-ActionButton {
      margin-block-start: var(--spectrum-breadcrumbs-action-button-spacing-block-multiline);
      margin-block-end: var(--spectrum-breadcrumbs-action-button-spacing-block-between-multiline);
    }
  }

  &:last-of-type {
    font-family: var(--spectrum-breadcrumbs-font-family-current);
    font-size: var(--spectrum-breadcrumbs-font-size-current);
    font-weight: var(--spectrum-breadcrumbs-font-weight-current);

    .spectrum-Breadcrumbs-itemSeparator {
      display: none;
    }

    .spectrum-Breadcrumbs--compact &:last-of-type {
      font-family: var(--spectrum-breadcrumbs-font-family-compact-current);
      font-size: var(--spectrum-breadcrumbs-font-size-compact-current);
      font-weight: var(--spectrum-breadcrumbs-font-weight-compact-current);
    }

    .spectrum-Breadcrumbs--multiline &:last-of-type {
      font-family: var(--spectrum-breadcrumbs-font-family-multiline-current);
      font-size: var(--spectrum-breadcrumbs-font-size-multiline-current);
      font-weight: var(--spectrum-breadcrumbs-font-weight-multiline-current);
    }
  }

  > .spectrum-ActionButton {
    margin-inline: var(--spectrum-breadcrumbs-action-button-spacing-inline);
    margin-block: var(--spectrum-breadcrumbs-action-button-spacing-block);

    color: var(--spectrum-breadcrumbs-action-button-color);

    &:disabled {
      color: var(--spectrum-breadcrumbs-action-button-color-disabled);
    }
  }

  &:first-of-type {
    /* if folder icon is first item */
    > .spectrum-ActionButton {
      margin-inline-start: var(--spectrum-breadcrumbs-action-button-spacing-inline-start);
    }
  }
}

.spectrum-Breadcrumbs-itemLink {
  cursor: default;
  position: relative;

  display: inline-flex;
  align-items: center;
  justify-content: flex-start;

  box-sizing: border-box;

  border-radius: var(--spectrum-breadcrumbs-item-link-border-radius); /* placeholder for token */

  outline: none;

  text-decoration: none;

  color: var(--spectrum-breadcrumbs-text-color);

  .spectrum-Breadcrumbs-item:last-of-type & {
    color: var(--spectrum-breadcrumbs-text-color-current);
  }

  &[href],
  &[tabindex="0"] {
    cursor: pointer;

    &:hover,
    &:focus-ring {
      text-decoration: underline;
      text-decoration-thickness: var(--spectrum-breadcrumbs-text-decoration-thickness);
      text-underline-offset: var(--spectrum-breadcrumbs-text-decoration-gap);
    }
  }
}

/* focus indicator */
.spectrum-Breadcrumbs-item.is-dragged .spectrum-Breadcrumbs-itemLink:before,
.spectrum-Breadcrumbs-itemLink:focus-ring:before {
  position: absolute;
  left: 0;
  right: 0;

  margin-inline-start: calc((var(--mod-breadcrumbs-focus-indicator-gap, var(--spectrum-breadcrumbs-focus-indicator-gap))
                                + var(--mod-breadcrumbs-focus-indicator-thickness, var(--spectrum-breadcrumbs-focus-indicator-thickness)))
                                * -1);

  box-sizing: border-box;
  display: block;
  inline-size: calc(100% + (var(--spectrum-breadcrumbs-focus-indicator-gap) * 2) + (var(--spectrum-breadcrumbs-focus-indicator-thickness) * 2));
  block-size: calc(100% + (var(--spectrum-breadcrumbs-focus-indicator-gap) * 2) + (var(--spectrum-breadcrumbs-focus-indicator-thickness) * 2));

  border-width: var(--spectrum-breadcrumbs-focus-indicator-thickness);
  border-style: solid;
  border-radius: calc(var(--mod-breadcrumbs-item-link-border-radius, var(--spectrum-breadcrumbs-item-link-border-radius))
                       + var(--mod-breadcrumbs-focus-indicator-gap, var(--spectrum-breadcrumbs-focus-indicator-gap))
                       + var(--mod-breadcrumbs-focus-indicator-thickness, var(--spectrum-breadcrumbs-focus-indicator-thickness)));

  content: "";
  pointer-events: none;

  border-color: var(--spectrum-breadcrumbs-focus-indicator-color);
}

.spectrum-Breadcrumbs--multiline {
  flex-wrap: wrap;
}
