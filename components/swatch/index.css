/*
Copyright 2022 Adobe. All rights reserved.
This file is licensed to you under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
OF ANY KIND, either express or implied. See the License for the specific language
governing permissions and limitations under the License.
*/

.ðŸ¤« {
  /* hack: make sure we don't complain about this color being undefined */
  --spectrum-picked-color: 0;
}

/* shape = square is default */

/* Swatch tokens */
.spectrum-Swatch {
  /* Static swatch sizes for medium scale */
  --spectrum-swatch-size-extra-small: 16px;
  --spectrum-swatch-size-small: 24px;
  --spectrum-swatch-size-medium: 32px;
  --spectrum-swatch-size-large: 40px;

  --spectrum-swatch-slash-thickness-extra-small: 2px;
  --spectrum-swatch-slash-thickness-small: 3px;
  --spectrum-swatch-slash-thickness-medium: 4px;
  --spectrum-swatch-slash-thickness-large: 5px;

  /* --spectrum-swatch-size-xs: var(--spectrum-global-dimension-size-200); */
  /* --spectrum-swatch-size-s: var(--spectrum-global-dimension-size-300); */
  /* --spectrum-swatch-size-m: var(--spectrum-global-dimension-size-400); */
  /* --spectrum-swatch-size-l: var(--spectrum-global-dimension-size-500); */

  /* --spectrum-swatch-disabled-icon-size-xs: var(--spectrum-global-dimension-size-150); */
  /* --spectrum-swatch-disabled-icon-size-s: var(--spectrum-global-dimension-size-200); */
  /* --spectrum-swatch-disabled-icon-size-m: var(--spectrum-global-dimension-size-225); */
  /* --spectrum-swatch-disabled-icon-size-l: var(--spectrum-global-dimension-size-250); */
  /* --spectrum-swatch-disabled-icon-color: var(--spectrum-global-color-static-gray-50); */
  /* --spectrum-swatch-disabled-icon-stroke-color: rgba(var(--spectrum-global-color-static-black-rgb), 0.51); */

  /* --spectrum-swatch-selection-padding: var(--spectrum-global-dimension-size-100); */
  /* --spectrum-swatch-selection-indicator-border-width: var(--spectrum-global-dimension-size-25); */
  /* --spectrum-swatch-selection-indicator-border-color: var(--spectrum-global-color-gray-900); */
  /* --spectrum-swatch-background-color-selected: var(--spectrum-global-color-gray-50); */

  /* --spectrum-swatch-border-radius: var(--spectrum-alias-border-radius-regular); */
  /* --spectrum-swatch-fill-border-radius-selected: var(--spectrum-alias-border-radius-small); */

  /* --spectrum-swatch-fill-border-width: var(--spectrum-alias-border-size-thin); */
  /* --spectrum-swatch-fill-border-color: rgba(var(--spectrum-global-color-gray-900-rgb), 0.51); */
  /* --spectrum-swatch-fill-border-color-light: rgba(var(--spectrum-global-color-gray-900-rgb), 0.20); */

  /* Used for background-position */
  /* --spectrum-swatch-background-offset: 0px; */
  /* --spectrum-swatch-checkerboard-size: var(--spectrum-global-dimension-static-size-100); */

  --spectrum-swatch-size: var(--spectrum-swatch-size-small);
  --spectrum-swatch-border-radius: var(--spectrum-corner-radius-100);
  --spectrum-swatch-border-thickness: var(--spectrum-border-width-100);
  --spectrum-swatch-border-thickness-selected: var(--spectrum-border-width-200);
  --spectrum-swatch-disabled-icon-size: var(--spectrum-workflow-icon-size-75);
  --spectrum-swatch-slash-thickness: var(--spectrum-swatch-slash-thickness-small);
  --spectrum-swatch-focus-ring-thickness: var(--spectrum-focus-ring-thickness);
  --spectrum-swatch-focus-ring-gap: var(--spectrum-focus-ring-gap);

  --spectrum-swatch-border-color: var(--spectrum-swatch-border-color);
  --spectrum-swatch-border-color-selected: var(--spectrum-gray-900);
  /* --spectrum-swatch-inner-border-color-selected: var(--spectrum-gray-50); */
  --spectrum-swatch-disabled-icon-border-color: var(--spectrum-swatch-disabled-icon-border-color);
  --spectrum-swatch-disabled-icon-color: var(--spectrum-white);
  --spectrum-swatch-background-color: var(--spectrum-gray-50);
  /* --spectrum-swatch-dash-icon-color: var(--spectrum-gray-800); */
  --spectrum-swatch-slash-icon-color: var(--spectrum-red-500);
  --spectrum-swatch-focus-ring-color: var(--spectrum-focus-ring-color);
}

.spectrum-Swatch--sizeXS {
  --spectrum-swatch-size: var(--spectrum-swatch-size-extra-small);
  --spectrum-swatch-disabled-icon-size: var(--spectrum-workflow-icon-size-50);
  --spectrum-swatch-slash-thickness: var(--spectrum-swatch-slash-thickness-extra-small);
}

.spectrum-Swatch--sizeS {
  --spectrum-swatch-size: var(--spectrum-swatch-size-small);
  --spectrum-swatch-disabled-icon-size: var(--spectrum-workflow-icon-size-75);
  --spectrum-swatch-slash-thickness: var(--spectrum-swatch-slash-thickness-small);
}

.spectrum-Swatch--sizeM {
  --spectrum-swatch-size: var(--spectrum-swatch-size-medium);
  --spectrum-swatch-disabled-icon-size: var(--spectrum-workflow-icon-size-100);
  --spectrum-swatch-slash-thickness: var(--spectrum-swatch-slash-thickness-medium);
}

.spectrum-Swatch--sizeL {
  --spectrum-swatch-size: var(--spectrum-swatch-size-large);
  --spectrum-swatch-disabled-icon-size: var(--spectrum-workflow-icon-size-200);
  --spectrum-swatch-slash-thickness: var(--spectrum-swatch-slash-thickness-large);
}

/* Windows high contrast mode */
@media (forced-colors: active) {
  .spectrum-Swatch-fill {
    forced-color-adjust: none;
  }
  .spectrum-Swatch {
    /* --spectrum-swatch-disabled-icon-color: grayText; */
    /* --spectrum-swatch-focus-ring-color: ButtonText; */
    /* --spectrum-swatch-selection-indicator-border-color: Highlight; */
    /* --spectrum-swatch-fill-border-color: ButtonText; */
    /* --spectrum-swatch-fill-border-color-light: ButtonText; */
    /* --spectrum-swatch-background-color-selected: ButtonFace; */
    &.is-disabled {
      .spectrum-Swatch-fill {
        forced-color-adjust: auto;
      }
    }
    /* Slash */
    &.is-nothing {
      .spectrum-Swatch-fill {
        &:after {
          background: ButtonText;
        }
      }
    }
  }
}

/* Swatch styles */
.spectrum-Swatch {
  width: var(--spectrum-swatch-size);
  height: var(--spectrum-swatch-size);

  display: flex;
  align-items: center;
  justify-content: center;

  /* contain selection indicator and focus-ring */
  position: relative;

  outline: none;

  /* don't let double clicking select stuff */
  user-select: none;

 .spectrum-Swatch-disabledIcon {
    width: var(--spectrum-swatch-disabled-icon-size);
    height: var(--spectrum-swatch-disabled-icon-size);
  }

  /* rounding = default is default */
  &,
  &:before {
    border-radius: var(--spectrum-swatch-border-radius);
  }

  &.is-selected {
    /* background-color: var(--spectrum-swatch-background-color-selected); */
    background-color: var(--spectrum-swatch-background-color);

    /* --spectrum-swatch-background-offset: -4px; /\* correct for selected size *\/ */

    .spectrum-Swatch-fill {
      width: calc(100% - var(--spectrum-swatch-focus-ring-gap));
      height: calc(100% - var(--spectrum-swatch-focus-ring-gap));

      /* border-radius: var(--spectrum-swatch-fill-border-radius-selected); */
      border-radius: var(--spectrum-swatch-border-radius);

      /* no border when selected */
      &:before {
        /* Use 2px border-radius here? */
        /* border-radius: var(--spectrum-swatch-fill-border-radius-selected); */
        border-radius: var(--spectrum-swatch-border-radius);

        box-shadow: none;
      }
    }

    &:before {
      opacity: 1;
    }
  }

  &.is-mixedValue {
    .spectrum-Swatch-fill {
      background: var(--spectrum-swatch-background-color);
    }

    .spectrum-Swatch-mixedValueIcon {
      visibility: visible;
    }
  }

  /* Slash */
  &.is-nothing {
    .spectrum-Swatch-fill {
      background: var(--spectrum-swatch-background-color);

      &:after {
        height: var(--spectrum-swatch-slash-thickness);
        content: '';
        position: absolute;
        transform: rotate(-45deg);
        width: 200%; /* just needs to be bigger than a swatch */
        background: var(--spectrum-swatch-slash-icon-color);
      }
    }

    &.spectrum-Swatch--rectangle {
      .spectrum-Swatch-fill {
        &:after {
          transform: rotate(-25deg);
        }
      }
    }
  }

  &[disabled],
  &.is-disabled {
    .spectrum-Swatch-disabledIcon {
      visibility: visible;
    }
  }

  &:focus-visible {
    &:after {
      opacity: 1;
    }
  }

  /* selection indicator */
  &:before {
    content: '';
    position: absolute;
    inset: 0;

    border: var(--spectrum-swatch-border-thickness-selected) solid var(--spectrum-swatch-border-color-selected);

    opacity: 0;

    pointer-events: none;
  }

  /* focus-ring */
  &:after {
    content: '';
    position: absolute;
    /* Review */
    inset: calc(-1 * var(--spectrum-swatch-border-thickness));

    opacity: 0;

    border: var(--spectrum-swatch-focus-ring-thickness) solid var(--spectrum-swatch-focus-ring-color);
    border-radius: var(--spectrum-swatch-border-radius);

    transition: opacity var(--spectrum-animation-duration-100) ease-in-out;
  }
}


.spectrum-Swatch-fill {
  display: flex;
  align-items: center;
  justify-content: center;

  width: 100%;
  height: 100%;
  box-sizing: border-box;

  position: relative;

  overflow: hidden;

  border-radius: var(--spectrum-swatch-border-radius);

  /* background-color: var(--spectrum-color-control-checkerboard-light-color); */
  background-color: var(--spectrum-swatch-background-color);

  /* background-size: */
    /* calc(var(--spectrum-swatch-checkerboard-size) * 2) */
    /* calc(var(--spectrum-swatch-checkerboard-size) * 2); */
  /* background-position: */
    /* var(--spectrum-swatch-background-offset) var(--spectrum-swatch-background-offset), */
    /* var(--spectrum-swatch-background-offset) calc(var(--spectrum-swatch-checkerboard-size) + var(--spectrum-swatch-background-offset)), */
    /* calc(var(--spectrum-swatch-checkerboard-size) + var(--spectrum-swatch-background-offset)) calc(-1 * var(--spectrum-swatch-checkerboard-size) + var(--spectrum-swatch-background-offset)), */
    /* calc(-1 * var(--spectrum-swatch-checkerboard-size) + var(--spectrum-swatch-background-offset)) var(--spectrum-swatch-background-offset); */

  /* Add a half-percent to fix diagonal line issue in Chrome on non-retina displays */
  /* background-image: */
    /* linear-gradient(-45deg, transparent 75.5%, var(--spectrum-colorcontrol-checkerboard-dark-color) 75.5%), */
    /* linear-gradient(45deg, transparent 75.5%, var(--spectrum-colorcontrol-checkerboard-dark-color) 75.5%), */
    /* linear-gradient(-45deg, var(--spectrum-colorcontrol-checkerboard-dark-color) 25.5%, transparent 25.5%), */
    /* linear-gradient(45deg, var(--spectrum-colorcontrol-checkerboard-dark-color) 25.5%, transparent 25.5%); */

  /* Swatch fill */
  &:before {
    content: '';
    position: absolute;
    inset: 0;

    z-index: 0;

    background-color: var(--spectrum-picked-color, transparent);

    /* Swatch border */
    /* box-shadow: inset 0 0 0 var(--spectrum-swatch-fill-border-width) var(--spectrum-swatch-fill-border-color); */
    box-shadow: inset 0 0 0 var(--spectrum-swatch-border-thickness) var(--spectrum-swatch-border-color);

    border-radius: var(--spectrum-swatch-border-radius);
  }
}

.spectrum-Swatch--lightBorder {
  .spectrum-Swatch-fill {
    &:before {
      /* box-shadow: inset 0 0 0 var(--spectrum-swatch-fill-border-width) var(--spectrum-swatch-fill-border-color-light); */
      box-shadow: inset 0 0 0 var(--spectrum-swatch-border-thickness) var(--spectrum-swatch-border-color);
    }
  }
}

.spectrum-Swatch--noBorder {
  .spectrum-Swatch-fill {
    &:before {
      box-shadow: none;
    }
  }
}

.spectrum-Swatch-mixedValueIcon {
  visibility: hidden;
  pointer-events: none;

  /* color: var(--spectrum-global-color-gray-700); */
  color: var(--spectrum-swatch-background-color);
}

.spectrum-Swatch-disabledIcon {
  position: relative;
  z-index: 2;

  visibility: hidden;
  pointer-events: none;

  /* Review */
  color: var(--spectrum-swatch-disabled-icon-color);
  stroke: var(--spectrum-swatch-disabled-icon-color);
}

.spectrum-Swatch--rectangle {
  &.spectrum-Swatch--sizeXS {
    width: calc(var(--spectrum-swatch-size) * 2);
  }

  &.spectrum-Swatch--sizeS {
    width: calc(var(--spectrum-swatch-size) * 2);
  }

  &.spectrum-Swatch--sizeM {
    width: calc(var(--spectrum-swatch-size) * 2);
  }

  &.spectrum-Swatch--sizeL {
    width: calc(var(--spectrum-swatch-size) * 2);
  }
}

.spectrum-Swatch--roundingNone {
  &,
  &:before,
  &:after,
  .spectrum-Swatch-fill,
  .spectrum-Swatch-fill:before,
  &.is-selected .spectrum-Swatch-fill,
  &.is-selected .spectrum-Swatch-fill:before {
    border-radius: 0;
  }
}

.spectrum-Swatch--roundingFull {
  &:not(.spectrum-Swatch--rectangle) {
    &,
    &:before,
    &:after,
    .spectrum-Swatch-fill,
    .spectrum-Swatch-fill:before,
    &.is-selected .spectrum-Swatch-fill,
    &.is-selected .spectrum-Swatch-fill:before {
      border-radius: 100%;
    }
  }
}

.spectrum-Swatch-image {
  object-fit: contain;

  width: 100%;
  height: 100%;

  transition: width var(--spectrum-animation-duration-100) ease-in-out,
              height var(--spectrum-animation-duration-100) ease-in-out;
}
