/*!
Copyright 2023 Adobe. All rights reserved.
This file is licensed to you under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
OF ANY KIND, either express or implied. See the License for the specific language
governing permissions and limitations under the License.
*/

.spectrum-SideNav {
  --spectrum-sidenav-focus-ring-size: var(--spectrum-focus-indicator-thickness);
  --spectrum-sidenav-focus-ring-gap: var(--spectrum-focus-indicator-gap);

  /* layout */
  --spectrum-sidenav-min-height: var(--spectrum-component-height-100);
  --spectrum-sidenav-width: var(--spectrum-side-navigation-width);
  --spectrum-sidenav-min-width: var(--spectrum-side-navigation-minimum-width);
  --spectrum-sidenav-max-width: var(--spectrum-side-navigation-maximum-width);
  --spectrum-sidenav-border-radius: var(--spectrum-corner-radius-100);
  --spectrum-sidenav-icon-size: var(--spectrum-workflow-icon-size-100);
  --spectrum-sidenav-icon-spacing: var(--spectrum-text-to-visual-100);
  --spectrum-sidenav-inline-padding: var(--spectrum-component-edge-to-text-100);
  --spectrum-sidenav-gap: var(--spectrum-side-navigation-item-to-item);
  --spectrum-sidenav-top-to-icon: var(--spectrum-component-top-to-workflow-icon-100);
  --spectrum-sidenav-top-to-label: var(--spectrum-component-top-to-text-100);
  --spectrum-sidenav-bottom-to-label: var(--spectrum-component-bottom-to-text-100);

  --spectrum-sidenav-start-to-content-second-level: var(--spectrum-side-navigation-second-level-edge-to-text);
  --spectrum-sidenav-start-to-content-third-level: var(--spectrum-side-navigation-third-level-edge-to-text);

  --spectrum-sidenav-start-to-content-with-icon-second-level: var(--spectrum-side-navigation-with-icon-second-level-edge-to-text);
  --spectrum-sidenav-start-to-content-with-icon-third-level: var(--spectrum-side-navigation-with-icon-third-level-edge-to-text);

  /* color */
  --spectrum-sidenav-focus-ring-color: var(--spectrum-focus-indicator-color);

  /* color - background */
  --spectrum-sidenav-background-disabled: transparent;

  --spectrum-sidenav-background-default: transparent;
  --spectrum-sidenav-background-hover: var(--spectrum-gray-200);
  --spectrum-sidenav-item-background-down: var(--spectrum-gray-300);
  --spectrum-sidenav-background-key-focus: var(--spectrum-gray-200);

  --spectrum-sidenav-item-background-default-selected: var(--spectrum-gray-200);
  --spectrum-sidenav-background-hover-selected: var(--spectrum-gray-300);
  --spectrum-sidenav-item-background-down-selected: var(--spectrum-gray-300);
  --spectrum-sidenav-background-key-focus-selected: var(--spectrum-gray-200);



  /* color font */
  --spectrum-sidenav-header-font-color: var(--spectrum-gray-900);
  --spectrum-sidenav-header-color: var(--spectrum-gray-900); /* this needs to be named better */

  --spectrum-sidenav-content-disabled-color: var(--spectrum-disabled-content-color);

  --spectrum-sidenav-content-color-default: var(--spectrum-neutral-content-color-default);
  --spectrum-sidenav-content-color-hover: var(--spectrum-neutral-content-color-hover);
  --spectrum-sidenav-content-color-down: var(--spectrum-neutral-content-color-down);
  --spectrum-sidenav-content-color-key-focus: var(--spectrum-neutral-content-color-key-focus);

  --spectrum-sidenav-content-color-default-selected: var(--spectrum-neutral-content-color-default);
  --spectrum-sidenav-content-color-hover-selected: var(--spectrum-neutral-content-color-hover);
  --spectrum-sidenav-content-color-down-selected: var(--spectrum-neutral-content-color-down);
  --spectrum-sidenav-content-color-key-focus-selected: var(--spectrum-neutral-content-color-key-focus);

  /* typography */
  --spectrum-sidenav-text-font-family: var(--spectrum-sans-font-family-stack);
  --spectrum-sidenav-text-font-weight: var(--spectrum-regular-font-weight);
  --spectrum-sidenav-text-font-style: var(--spectrum-default-font-style);
  --spectrum-sidenav-font-size: var(--spectrum-font-size-200);
  --spectrum-sidenav-lineheight: var(--spectrum-line-height-100);


  --spectrum-sidenav-header-font-family: var(--spectrum-sans-font-family-stack);
  --spectrum-sidenav-header-font-weight: var(--spectrum-bold-font-weight);
  --spectrum-sidenav-header-font-style: var(--spectrum-default-font-style);
  --spectrum-sidenav-header-font-size: var(--spectrum-font-size-200);
  --spectrum-sidenav-header-line-height: var(--spectrum-line-height-100);
}

.spectrum-SideNav {
  display: flex;
  flex-direction: column;
  gap: var(--spectrum-sidenav-gap);
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.spectrum-SideNav-item {
  list-style-type: none;
  margin-inline: 0;

  &.is-selected {
    .spectrum-SideNav-itemLink {
      background-color: var(--highcontrast-sidenav-item-background-default-selected, var(--spectrum-sidenav-item-background-default-selected));
      color: var(--highcontrast-sidenav-content-color-default-selected, var(--spectrum-sidenav-content-color-default-selected));

      &:hover {
        background-color: var(--spectrum-sidenav-background-hover-selected);
        color: var(--spectrum-sidenav-content-color-hover-selected);
      }

      &:active {
        background-color: var(--spectrum-sidenav-item-background-down-selected) !important;
        color: var(--spectrum-sidenav-content-color-down-selected) !important;
      }

      &:focus,
      &.focus-ring {
        background-color: var(--spectrum-sidenav-background-key-focus-selected);
        color: var(--spectrum-sidenav-content-color-key-focus-selected);
      }
    }
  }

  &.is-disabled {
    /* Disable all children */
    .spectrum-SideNav-itemLink {
      background-color: var(--highcontrast-sidenav-background-disabled, var(--spectrum-sidenav-background-disabled));
      color: var(--highcontrast-sidenav-content-disabled-color, var(--spectrum-sidenav-content-disabled-color));

      cursor: default;
      pointer-events: none;
    }
  }
}

.spectrum-SideNav-itemLink {
  position: relative;
  display: inline-flex;
  justify-content: start;
  box-sizing: border-box;

  /* default font styling */
  background-color: var(--highcontrast-sidenav-background-default, var(--spectrum-sidenav-background-default));
  color: var(--highcontrast-sidenav-content-color-default, var(--spectrum-sidenav-content-color-default));

  inline-size: var(--spectrum-sidenav-width);
  min-inline-size: var(--spectrum-sidenav-min-width);
  max-inline-size: var(--spectrum-sidenav-max-width);
  min-block-size: var(--spectrum-sidenav-min-height);


  padding-inline-start: var(--spectrum-sidenav-inline-padding);
  padding-inline-end: var(--spectrum-sidenav-inline-padding);

  border-radius: var(--spectrum-sidenav-border-radius);


  font-family: var(--spectrum-sidenav-text-font-family);
  font-size: var(--spectrum-sidenav-font-size);
  font-weight: var(--spectrum-sidenav-text-font-weight);
  font-style: var(--spectrum-sidenav-text-font-style);
  text-decoration: none;
  line-height: var(--spectrum-sidenav-lineheight);

    /* cjk language support */
    &:lang(ja),
    &:lang(zh),
    &:lang(ko) {
      --spectrum-sidenav-lineheight: var(--spectrum-cjk-line-height-100);
    }

  word-break: break-word;
  hyphens: auto;

  cursor: pointer;

  transition: background-color var(--spectrum-animation-duration-100) ease-out,
    color var(--spectrum-animation-duration-100) ease-out;

  /* use passthrough custom props */
  .spectrum-SideNav-itemIcon {
    inline-size: var(--spectrum-sidenav-icon-size);
    block-size: var(--spectrum-sidenav-icon-size);
    flex-shrink: 0;
    margin-inline-end: var(--spectrum-sidenav-icon-spacing);
    margin-block-start: var(--spectrum-sidenav-top-to-icon);
  }

  .spectrum-SideNav-link-label {
    margin-block-start: var(--spectrum-sidenav-top-to-label);
    margin-block-end: var(--spectrum-sidenav-bottom-to-label);
  }

  &:hover {
    background-color: var(--highcontrast-sidenav-background-hover, var(--spectrum-sidenav-background-hover));
    color: var(--highcontrast-sidenav-content-color-hover, var(--spectrum-sidenav-content-color-hover));
  }

  &:active {
      background-color: var(--highcontrast-sidenav-item-background-down, var(--spectrum-sidenav-item-background-down)) !important;
      color:  var(--highcontrast-sidenav-content-color-down, var(--spectrum-sidenav-content-color-down))  !important;
  }

  &:focus,
  &.focus-ring {
    outline-style: solid;
    outline-width: var(--spectrum-sidenav-focus-ring-size);
    outline-offset: var(--spectrum-sidenav-focus-ring-gap);
    outline-color: var(--highcontrast-sidenav-focus-ring-color, var(--spectrum-sidenav-focus-ring-color));

    background-color: var(--highcontrast-sidenav-background-key-focus, var(--spectrum-sidenav-background-key-focus));
    color: var(--highcontrast-sidenav-content-color-key-focus, var(--spectrum-sidenav-content-color-key-focus));
  }
}
/* this is the CATEGORY or heading variant */
.spectrum-SideNav-heading {
  line-height: var(--spectrum-sidenav-header-line-height:);

  margin-block-start: 16px; /* needs tokens var(--spectrum-sidenav-heading-gap-top); */
  margin-inline-end: 0;
  margin-block-end: 4px; /* needs token var(--spectrum-sidenav-heading-gap-bottom); */
  margin-inline-start: 0;
  padding-block: 0;
  padding-inline: 12px; /* needs token var(--spectrum-sidenav-heading-padding-x); */

  border-radius: 4px; /* needs token var(--spectrum-sidenav-heading-border-radius); */

  color: var(--spectrum-sidenav-header-color);
  font-size: 11px; /* needs token var(--spectrum-sidenav-heading-text-size); */
  font-weight: 500; /* needs token var(--spectrum-sidenav-heading-text-font-weight); */
  font-style: normal;
  letter-spacing:  0.06em; /* needs token var(--spectrum-sidenav-heading-text-letter-spacing); */

  text-transform: uppercase;
}

.spectrum-SideNav--multiLevel {
  .spectrum-SideNav-itemLink {
    font-family: var(--spectrum-sidenav-header-font-family);
    font-weight: var(--spectrum-sidenav-header-font-weight);
    font-style: var(--spectrum-sidenav-header-font-style);
    font-size: var(--spectrum-sidenav-header-font-size);
    line-height: var(--spectrum-sidenav-header-line-height);
    color: var(--highcontrast-sidenav-header-font-color, var(--spectrum-sidenav-header-font-color));
  }

  .spectrum-SideNav {
    margin: 0;
    padding: 0;
    padding-block-start: var(--spectrum-sidenav-gap);

    /* this is 1 level nested */
    .spectrum-SideNav-itemLink {
      font-weight: var(--spectrum-sidenav-text-font-weight);
      padding-inline-start: var(--spectrum-sidenav-start-to-content-second-level);
    }
     /* this is 2 levels nested  */
    .spectrum-SideNav {
      .spectrum-SideNav-itemLink {
        padding-inline-start: var(--spectrum-sidenav-start-to-content-third-level);
      }
    }
  }
}

.spectrum-SideNav--hasIcon {
  .spectrum-SideNav {
    /* this is 1 level nested */
    .spectrum-SideNav-itemLink {
      padding-inline-start: var(--spectrum-sidenav-start-to-content-with-icon-second-level);
    }
     /* this is 2 levels nested  */
    .spectrum-SideNav {
      .spectrum-SideNav-itemLink {
        padding-inline-start: var(--spectrum-sidenav-start-to-content-with-icon-third-level);
      }
    }
  }
}

@media (forced-colors: active) {
  .spectrum-SideNav-item {
    forced-color-adjust: none;
    --highcontrast-sidenav-content-disabled-color: GrayText;
    --highcontrast-sidenav-background-disabled: ButtonFace;

    --highcontrast-sidenav-focus-ring-color: ButtonText;

    --highcontrast-sidenav-header-font-color: ButtonText;

    --highcontrast-sidenav-content-color-default-selected: HighlightText;
    --highcontrast-sidenav-item-background-default-selected: Highlight;

    --highcontrast-sidenav-background-default: ButtonFace;
    --highcontrast-sidenav-item-background-down: Highlight;
    --highcontrast-sidenav-background-hover: ButtonFace;
    --highcontrast-sidenav-background-key-focus: ButtonFace;

    --highcontrast-sidenav-content-color-default: ButtonText;
    --highcontrast-sidenav-content-color-down: ButtonText;
    --highcontrast-sidenav-content-color-hover: ButtonText;
    --highcontrast-sidenav-content-color-key-focus: ButtonText;
  }
}

