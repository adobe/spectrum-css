/*!
Copyright 2023 Adobe. All rights reserved.
This file is licensed to you under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
OF ANY KIND, either express or implied. See the License for the specific language
governing permissions and limitations under the License.
*/

.spectrum-SideNav {
  --spectrum-sidenav-focus-ring-size: var(--spectrum-focus-indicator-thickness);
  --spectrum-sidenav-focus-ring-gap: var(--spectrum-focus-indicator-gap);
  /* layout */
  --spectrum-sidenav-min-height: var(--spectrum-component-height-100);
  --spectrum-sidenav-width: var(--spectrum-side-navigation-width);
  --spectrum-sidenav-min-width: var(--spectrum-side-navigation-minimum-width);
  --spectrum-sidenav-max-width: var(--spectrum-side-navigation-maximum-width);
  --spectrum-sidenav-border-radius: var(--spectrum-corner-radius-100);
  --spectrum-sidenav-icon-size: var(--spectrum-workflow-icon-size-100);
  --spectrum-sidenav-icon-spacing: var(--spectrum-text-to-visual-100);
  --spectrum-sidenav-inline-padding: var(--spectrum-component-edge-to-text-100);
  --spectrum-sidenav-gap: var(--spectrum-side-navigation-item-to-item);
  --spectrum-sidenav-top-to-icon: var(--spectrum-component-top-to-workflow-icon-100);

  --spectrum-sidenav-start-to-content-second-level: var(--spectrum-side-navigation-second-level-edge-to-text);
  --spectrum-sidenav-start-to-content-third-level: var(--spectrum-side-navigation-third-level-edge-to-text);

  /* color */
  --spectrum-sidenav-focus-ring-color: var(--spectrum-focus-indicator-color);
  --spectrum-sidenav-header-color: var(--spectrum-gray-900);
  /* --spectrum-sidenav-item-text-color-selected: var(--spectrum-gray-200); */
  /* is spectrum-transparent an actual token??? */
  /* --spectrum-sidenav-disabled-color: transparent; */
  --spectrum-sidenav-label-and-icon-disabled-color: var(--spectrum-disabled-content-color);
  /*
  --spectrum-sidenav-item-background-default: transparent; */
  --spectrum-sidenav-item-background-hover: var(--spectrum-gray-200);
  --spectrum-sidenav-item-background-down: var(--spectrum-gray-300);
  /* --spectrum-sidenav-item-background-key-focus: var(--spectrum-gray-200); */
  --spectrum-sidenav-item-background-default-selected: var(--spectrum-gray-200);
  /* --spectrum-sidenav-item-background-hover-selected: var(--spectrum-gray-300);

  --spectrum-sidenav-item-background-down-selected: var(--spectrum-gray-300);
  --spectrum-sidenav-item-background-key-focus-selected: var(--spectrum-gray-200); */
  --spectrum-sidenav-content-color-default: var(--spectrum-neutral-content-color-default);
  --spectrum-sidenav-content-hover: var(--spectrum-neutral-content-color-hover);
  --spectrum-sidenav-content-down: var(--spectrum-neutral-content-color-down);
  /* --spectrum-sidenav-label-and-icon-key-focus: var(--spectrum-neutral-content-color-key-focus); */
  /* WHY ARE THESE THE SAME? */

  /*--spectrum-sidenav-content-default-selected: var(--spectrum-neutral-content-color-default);
  --spectrum-sidenav-label-and-icon-hover-selected: var(--spectrum-neutral-content-color-hover);
  --spectrum-sidenav-label-and-icon-down-selected: var(--spectrum-neutral-content-color-down);
  --spectrum-sidenav-label-and-icon-key-focus-selected: var(--spectrum-neutral-content-color-key-focus); */



  /* typography */
  --spectrum-sidenav-text-font-family: var(--spectrum-sans-font-family-stack);
  --spectrum-sidenav-text-font-weight: var(--spectrum-regular-font-weight);
  --spectrum-sidenav-text-font-style: var(--spectrum-default-font-style);
  --spectrum-sidenav-medium-font-size: var(--spectrum-font-size-200);
  --spectrum-sidenav-lineheight: var(--spectrum-line-height-100);

  --spectrum-sidenav-header-font-color: var(--spectrum-gray-900);
  --spectrum-sidenav-header-line-height: var(--spectrum-line-height-100); /* ToDo */
  /* --spectrum-sidenav-header-medium-font-size: var(--spectrum-font-size-200); */
}

.spectrum-SideNav {
  display: flex;
  flex-direction: column;
  gap: var(--spectrum-sidenav-gap);
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.spectrum-SideNav-item {
  list-style-type: none;
  margin-inline: 0;

  &.is-selected {
    > .spectrum-SideNav-itemLink {
      color: var(--spectrum-sidenav-content-color-default);
      background-color: var(--spectrum-sidenav-item-background-default-selected); /* needs token */
    }
  }

  &:active,
  &.is-active {
    > .spectrum-SideNav-itemLink {
      background-color: var(--spectrum-sidenav-item-background-down);
      color: var(--spectrum-sidenav-content-down);
    }
  }

  &.is-disabled {
    /* Disable all children */
    .spectrum-SideNav-itemLink {
      background-color: transparent; /* needs token */
      color: var(--spectrum-sidenav-label-and-icon-disabled-color); /* needs token */

      cursor: default;
      pointer-events: none;
    }
  }
}

.spectrum-SideNav-itemLink {
  position: relative;
  display: inline-flex;
  /* align-items: center; */
  justify-content: start;
  box-sizing: border-box;

  background-color: transparent; /* needs token */
  color: var(--spectrum-sidenav-content-color-default); /* needs token */

  inline-size: var(--spectrum-sidenav-width);
  min-inline-size: var(--spectrum-sidenav-min-width);
  max-inline-size: var(--spectrum-sidenav-max-width);
  min-block-size: var(--spectrum-sidenav-min-height);


  padding-inline-start: var(--spectrum-sidenav-inline-padding);
  padding-inline-end: var(--spectrum-sidenav-inline-padding);

  border-radius: var(--spectrum-sidenav-border-radius);


  font-family: var(--spectrum-sidenav-text-font-family);
  font-size: var(--spectrum-sidenav-medium-font-size);
  font-weight: var(--spectrum-sidenav-text-font-weight);
  font-style: var(--spectrum-sidenav-text-font-style);
  text-decoration: none;
  line-height: var(--spectrum-sidenav-lineheight);

    /* cjk language support for item counter */
    &:lang(ja),
    &:lang(zh),
    &:lang(ko) {
      --spectrum-sidenav-lineheight: var(--spectrum-cjk-line-height-100);
    }

  word-break: break-word;
  hyphens: auto;

  cursor: pointer;

  transition: background-color var(--spectrum-animation-duration-100) ease-out,
    color var(--spectrum-animation-duration-100) ease-out;

  &:before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;

    border: var(--spectrum-sidenav-focus-ring-size) solid transparent;
    /* border-radius: var(--spectrum-sidenav-item-border-radius); */

    transition: border var(--spectrum-animation-duration-100) ease-out;
  }

  .spectrum-SideNav-itemIcon {
    inline-size: var(--spectrum-sidenav-icon-size);
    block-size: var(--spectrum-sidenav-icon-size);
    flex-shrink: 0;
    margin-inline-end: var(--spectrum-sidenav-icon-spacing);
    margin-block-start: var(--spectrum-sidenav-top-to-icon);
  }


  &:hover {
    background-color: var(--spectrum-sidenav-item-background-hover); /* needs token */
    color: var(--spectrum-sidenav-content-hover); /* needs token */
  }

  /* &.is-active */

  &.focus-ring {
    ouline-style: solid;
    outline-width: var(--spectrum-sidenav-focus-ring-size);
    outline-offset: var(--spectrum-sidenav-focus-ring-gap);
    outline-color: var(--spectrum-sidenav-focus-ring-color);
    /* background-color: red;
    color: blue; */

    &::before {
      /* border-color: var(--spectrum-sidenav-item-border-color-key-focus); */
    }
  }
}

.spectrum-SideNav-heading {
  line-height: var(--spectrum-sidenav-header-line-height:);

  margin-block-start: 16px; /* needs tokens var(--spectrum-sidenav-heading-gap-top); */
  margin-inline-end: 0;
  margin-block-end: 4px; /* needs token var(--spectrum-sidenav-heading-gap-bottom); */
  margin-inline-start: 0;
  padding-block: 0;
  padding-inline: 12px; /* needs token var(--spectrum-sidenav-heading-padding-x); */

  border-radius: 4px; /* needs token var(--spectrum-sidenav-heading-border-radius); */

  color: var(--spectrum-sidenav-header-color);
  font-size: 11px; /* needs token var(--spectrum-sidenav-heading-text-size); */
  font-weight: 500; /* needs token var(--spectrum-sidenav-heading-text-font-weight); */
  font-style: normal;
  letter-spacing:  0.06em; /* needs token var(--spectrum-sidenav-heading-text-letter-spacing); */

  text-transform: uppercase;
}

.spectrum-SideNav--multiLevel {
  .spectrum-SideNav-itemLink {
    font-weight: 700; /* tokens needed var(--spectrum-sidenav-multilevel-main-item-font-weight); */
    color: var(--spectrum-sidenav-header-font-color);
    background-color: pink;
  }

  .spectrum-SideNav {
    margin: 0;
    padding: 0;
    padding-block-start: var(--spectrum-sidenav-gap);

    /* this is 1 level nested */
    .spectrum-SideNav-itemLink {
      font-weight: 400; /* needs token var(--spectrum-sidenav-item-text-font-weight); */
      background-color: AliceBlue;
      padding-inline-start: var(--spectrum-sidenav-start-to-content-second-level);
    }
     /* this is 2 levels nested  */
    .spectrum-SideNav {
      .spectrum-SideNav-itemLink {
        background-color: HoneyDew;
        padding-inline-start: var(--spectrum-sidenav-start-to-content-third-level);
      }
    }
  }
}

@media (forced-colors: active) {
  .spectrum-SideNav-item {
    forced-color-adjust: none;
    /* --spectrum-sidenav-item-text-color-selected: HighlightText;
    --spectrum-sidenav-item-background-color-selected: Highlight;
    --spectrum-sidenav-item-background-color-down: Highlight;
    --spectrum-sidenav-item-background-color-disabled: ButtonFace;
    --spectrum-sidenav-item-text-color-disabled: GrayText;
    --spectrum-sidenav-item-background-color: ButtonFace;
    --spectrum-sidenav-item-text-color: ButtonText;
    --spectrum-sidenav-item-background-color-hover: ButtonFace;
    --spectrum-sidenav-item-text-color-hover: ButtonText;
    --spectrum-sidenav-item-background-color-down: ButtonFace;
    --spectrum-sidenav-item-background-color-key-focus: ButtonFace;
    --spectrum-sidenav-item-text-color-key-focus: ButtonText;
    --spectrum-sidenav-item-border-color-key-focus: ButtonText;
    --spectrum-sidenav-header-text-color: ButtonText; */
  }
}

