/*
Copyright 2022 Adobe. All rights reserved.
This file is licensed to you under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
OF ANY KIND, either express or implied. See the License for the specific language
governing permissions and limitations under the License.
*/

.spectrum-Tag {
  --spectrum-tag-animation-duration: var(--spectrum-animation-duration-100);

  --spectrum-tag-border-width: var(--spectrum-border-width-100);

  /* focus ring */
  --spectrum-tag-focus-ring-thickness: var(focus-ring-thickness);
  --spectrum-tag-focus-ring-gap: var(focus-ring-gap);

  /* tag defaults if no t-shirt size - set to medium */
  --spectrum-tag-height: var(--spectrum-component-height-100);

  /* text defaults if no t-shirt size - set to medium */
  --spectrum-tag-font-size: var(--spectrum-font-size-100);

  /* icon defaults if no t-shirt size - set to medium */
  --spectrum-tag-icon-size: var(--spectrum-workflow-icon-size-100);

  /* icon spacing defaults if no t-shirt size - set to medium */
  --spectrum-tag-icon-spacing-block-start: var(--spectrum-component-top-to-workflow-icon-100);
  --spectrum-tag-icon-spacing-block-end: var(--spectrum-component-top-to-workflow-icon-100);

  /* spacing horizontal defaults if no t-shirt size or theme - set to classic medium */
  --spectrum-tag-spacing-inline-start: var(--spectrum-component-edge-to-visual-100);

  /* space from label to end edge */
  --spectrum-tag-spacing-inline-end: var(--spectrum-component-edge-to-text-100);

  /* ✖ clear button spacing defaults if no t-shirt size - set to medium */
  /* clear button space start - not theme specific (end spacing is theme-specific) */
  --spectrum-tag-clear-button-spacing-inline-start: var(--spectrum-text-to-visual-100);

  /* clear button spacing block */
  --spectrum-tag-clear-button-spacing-block: var(--spectrum-tag-top-to-cross-icon-small);
  --spectrum-tag-clear-button-spacing-block: var(--spectrum-tag-top-to-cross-icon-medium);
  --spectrum-tag-clear-button-spacing-block: var(--spectrum-tag-top-to-cross-icon-large);


  /* avatar spacing default if no t-shirt size */
  --spectrum-tag-avatar-spacing-block-start: var(--spectrum-tag-top-to-avatar-medium);
  --spectrum-tag-avatar-spacing-block-end: var(--spectrum-tag-top-to-avatar-medium);

  /* label spacing default if no t-shirt size */
  --spectrum-tag-label-spacing-block: var(--spectrum-component-top-to-text-100);


  /* --spectrum-tag-: var(--spectrum-); */
}


/* t-shirt sizes */
.spectrum-Tag--sizeS {
  --spectrum-tag-height: var(--spectrum-component-height-75);
  --spectrum-tag-font-size: var(--spectrum-font-size-75);
  --spectrum-tag-icon-size: var(--spectrum-workflow-icon-size-75);
  --spectrum-tag-clear-button-spacing-inline-start: var(--spectrum-text-to-visual-75);

  --spectrum-tag-icon-spacing-block-start: var(--spectrum-component-top-to-workflow-icon-75);
  --spectrum-tag-icon-spacing-block-end: var(--spectrum-component-top-to-workflow-icon-75);

  --spectrum-tag-avatar-spacing-block-start: var(--spectrum-tag-top-to-avatar-small);
  --spectrum-tag-avatar-spacing-block-end: var(--spectrum-tag-top-to-avatar-small);

  --spectrum-tag-label-spacing-block: var(--spectrum-component-top-to-text-75);
}

.spectrum-Tag--sizeM {
  --spectrum-tag-height: var(--spectrum-component-height-100);
  --spectrum-tag-font-size: var(--spectrum-font-size-100);
  --spectrum-tag-icon-size: var(--spectrum-workflow-icon-size-100);
  --spectrum-tag-clear-button-spacing-inline-start: var(--spectrum-text-to-visual-100);

  --spectrum-tag-icon-spacing-block-start: var(--spectrum-component-top-to-workflow-icon-100);
  --spectrum-tag-icon-spacing-block-end: var(--spectrum-component-top-to-workflow-icon-100);

  --spectrum-tag-avatar-spacing-block-start: var(--spectrum-tag-top-to-avatar-medium);
  --spectrum-tag-avatar-spacing-block-end: var(--spectrum-tag-top-to-avatar-medium);

  --spectrum-tag-label-spacing-block: var(--spectrum-component-top-to-text-100);
}

.spectrum-Tag--sizeL {
  --spectrum-tag-height: var(--spectrum-component-height-200);
  --spectrum-tag-font-size: var(--spectrum-font-size-200);
  --spectrum-tag-icon-size: var(--spectrum-workflow-icon-size-200);
  --spectrum-tag-clear-button-spacing-inline-start: var(--spectrum-text-to-visual-200);

  --spectrum-tag-icon-spacing-block-start: var(--spectrum-component-top-to-workflow-icon-200);
  --spectrum-tag-icon-spacing-block-end: var(--spectrum-component-top-to-workflow-icon-200);

  --spectrum-tag-avatar-spacing-block-start: var(--spectrum-tag-top-to-avatar-large);
  --spectrum-tag-avatar-spacing-block-end: var(--spectrum-tag-top-to-avatar-large);

  --spectrum-tag-label-spacing-block: var(--spectrum-component-top-to-text-200);
}



/* windows high contrast mode */
@media (forced-colors: active) {
  .spectrum-Tag {
  }
}



.spectrum-Tag {
  border-radius: var(--spectrum-tag-corner-radius);
  border-width: var(--spectrum-tag-border-width);
  padding-inline-start: var(--spectrum-tag-spacing-inline-start);

  /* space from lable text to end edge */
  padding-inline-end: var(--spectrum-tag-spacing-inline-end);

  block-size: var(--spectrum-tag-height);

  position: relative;
  display: inline-flex;
  /* align-items: center; */
  box-sizing: border-box;
  vertical-align: bottom;
  max-inline-size: 100%;
  border-style: solid;
  outline: none;
  user-select: none;

  transition: border-color var(--spectrum-tag-animation-duration) ease-in-out,
              color var(--spectrum-tag-animation-duration) ease-in-out,
              box-shadow var(--spectrum-tag-animation-duration) ease-in-out,
              background-color var(--spectrum-tag-animation-duration) ease-in-out;

  &.is-disabled {
    pointer-events: none;
  }

  > .spectrum-Icon,
  > .spectrum-Avatar {
    margin-inline-end: var(--spectrum-tag-clear-button-spacing-inline-start);
  }

  > .spectrum-Icon {
    block-size: var(--spectrum-tag-icon-size);
    inline-size: var(--spectrum-tag-icon-size);

    margin-block-start: var(--spectrum-tag-icon-spacing-block-start);
    margin-block-end: var(--spectrum-tag-icon-spacing-block-end);
  }

  > .spectrum-Avatar {
    margin-block-start: var(--spectrum-tag-avatar-spacing-block-start);
    margin-block-end: var(--spectrum-tag-avatar-spacing-block-end);
  }

  /* ✖ clear button */
  .spectrum-Tag-clearButton {
    padding-block: 0;

    margin-block-start: var(--spectrum-tag-clear-button-spacing-block);
    margin-block-end: var(--spectrum-tag-clear-button-spacing-block);

    /* start spacing is not theme-specific */
    margin-inline-start: var(--spectrum-tag-clear-button-spacing-inline-start);

    /* end spacing is theme-specific */
    margin-inline-end: var(--spectrum-tag-clear-button-spacing-inline-end);

    /* TODO: re-evaluate after ClearButton migration */
    .spectrum-ClearButton-fill {
      /* width neutralized to ensure correct inline spacing within tag */
      width: auto;
    }
  }
}



.spectrum-Tag-label {
  line-height: 1; /* PLACEHOLDER FOR TOKEN */
  font-weight: normal; /* PLACEHOLDER FOR TOKEN */

  flex: 1 1 auto;
  font-size: var(--spectrum-tag-font-size);
  cursor: default;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;

  margin-block-start: var(--spectrum-tag-label-spacing-block);
}


/* focus */
.spectrum-Tag.is-selected {
  &:focus-visible,
  &.is-focused {
    &:after {
      content: "";
      display: inline-flex;
      position: absolute;
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      border: 3px solid orange;

      box-shadow: none; /* PLACEHOLDER FOR TOKEN */

      border-width: var(--spectrum-tag-focus-ring-thickness);
      margin: var(--spectrum-tag-focus-ring-gap); /* placeholder style - adjust */
    }
  }
}
