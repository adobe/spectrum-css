/*
Copyright 2022 Adobe. All rights reserved.
This file is licensed to you under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
OF ANY KIND, either express or implied. See the License for the specific language
governing permissions and limitations under the License.
*/

.spectrum-Toast {
  /* Hardcoded variables */
  --spectrum-toast-font-weight: var(--spectrum-font-weight-regular);

  /* Size */

  --spectrum-toast-font-size: var(--spectrum-font-size-100);
  --spectrum-toast-corner-radius: var(--spectrum-corner-radius-100);
  --spectrum-toast-border-width: var(--spectrum-border-width-100);

  --spectrum-toast-line-height: var(--spectrum-line-height-100);
  --spectrum-toast-line-height-cjk: var(--spectrum-CJK-line-height-100);

  /* Space */

  --spectrum-toast-spacing-icon-to-text: var(--spectrum-text-to-visual-100);

  --spectrum-toast-spacing-start-edge-to-text-and-icon: var(--spectrum-spacing-300);
  --spectrum-toast-spacing-text-and-action-button-to-divider: var(--spectrum-spacing-300);

  --spectrum-toast-spacing-top-edge-to-divider: var(--spectrum-spacing-100);
  --spectrum-toast-spacing-bottom-edge-to-divider: var(--spectrum-spacing-100);

  --spectrum-toast-spacing-top-edge-to-icon: var(--spectrum-toast-top-to-workflow-icon);

  --spectrum-toast-spacing-text-to-action-button-horizontal: var(--spectrum-spacing-300);

  --spectrum-toast-spacing-close-button: var(--spectrum-spacing-100);
  --spectrum-toast-spacing-edge-to-text-to-action-button-vertical: var(--spectrum-spacing-100);

  /* Color */

  --spectrum-toast-negative-background-color-default: var(--spectrum-negative-background-color-default);
  --spectrum-toast-positive-background-color-default: var(--spectrum-positive-background-color-default);
  --spectrum-toast-informative-background-color-default: var(--spectrum-informative-background-color-default);

  --spectrum-toast-text-and-icon-color: var(--spectrum-white);

  --spectrum-toast-divider-color: var(--spectrum-transparent-white-300);
}

@media (forced-colors: active) {
  /* Border is visible in high contrast mode */
  --highcontrast-toast-border-color: ButtonText;
}

.spectrum-Toast {
  box-sizing: border-box;
  display: inline-flex;
  flex-direction: row;
  align-items: stretch;

  border: var(--mod-toast-border-width, var(--spectrum-toast-border-width)) solid var(--highcontrast-toast-border-color, transparent);
  border-radius: var(--mod-toast-corner-radius, var(--spectrum-toast-corner-radius));

  padding-inline-start: var(--mod-toast-spacing-start-edge-to-text-and-icon, var(--spectrum-toast-spacing-start-edge-to-text-and-icon));

  font-size: var(--mod-toast-font-size, var(--spectrum-toast-font-size));
  font-weight: var(--spectrum-toast-font-weight);

  -webkit-font-smoothing: antialiased;

  background-color: var(--mod-toast-background-color-default, var(--spectrum-toast-background-color-default));
  color: var(--mod-toast-background-color-default, var(--spectrum-toast-background-color-default));

  &--negative {
    background-color: var(--mod-toast-negative-background-color-default, var(--spectrum-toast-negative-background-color-default));
    color: var(--mod-toast-negative-background-color-default, var(--spectrum-toast-negative-background-color-default));

    .spectrum-Toast-closeButton {
      &:focus-visible:not(:active) {
        color: var(--mod-toast-negative-background-color-default, var(--spectrum-toast-negative-background-color-default));
      }
    }
  }

  &--info {
    background-color: var(--mod-toast-informative-background-color-default, var(--spectrum-toast-informative-background-color-default));
    color: var(--mod-toast-informative-background-color-default, var(--spectrum-toast-informative-background-color-default));

    .spectrum-Toast-closeButton {
      &:focus-visible:not(:active) {
        color: var(--mod-toast-informative-background-color-default, var(--spectrum-toast-informative-background-color-default));
      }
    }
  }

  &--positive {
    background-color: var(--mod-toast-positive-background-color-default, var(--spectrum-toast-positive-background-color-default));
    color: var(--mod-toast-positive-background-color-default, var(--spectrum-toast-positive-background-color-default));

    .spectrum-Toast-closeButton {
      &:focus-visible:not(:active) {
        color: var(--mod-toast-positive-background-color-default, var(--spectrum-toast-positive-background-color-default));
      }
    }
  }
}

.spectrum-Toast-typeIcon {
  flex-shrink: 0;
  flex-grow: 0;

  margin-block-start: var(--mod-toast-spacing-top-edge-to-icon, var(--spectrum-toast-spacing-top-edge-to-icon));
  margin-inline-end: var(--mod-toast-spacing-icon-to-text, var(--spectrum-toast-spacing-icon-to-text));
  margin-inline-start: 0;

  color: var(--mod-toast-text-and-icon-color, var(--spectrum-toast-text-and-icon-color));
}

.spectrum-Toast-content {
  flex: 1 1 auto;
  display: inline-block;
  box-sizing: border-box;

  padding-block-start: var(--mod-toast-spacing-edge-to-text-to-action-button-vertical, var(--spectrum-toast-spacing-edge-to-text-to-action-button-vertical));
  padding-block-end: var(--mod-toast-spacing-edge-to-text-to-action-button-vertical, var(--spectrum-toast-spacing-edge-to-text-to-action-button-vertical));

  padding-inline-end: var(--mod-toast-spacing-text-to-action-button-horizontal, var(--spectrum-toast-spacing-text-to-action-button-horizontal));
  padding-inline-start: 0;

  line-height: var(--mod-toast-line-height, var(--spectrum-toast-line-height));

  &:lang(ja),
  &:lang(zh),
  &:lang(ko) {
    line-height: var(--spectrum-toast-line-height-cjk, var(--mod-toast-line-height, var(--spectrum-toast-line-height)));
  }

  text-align: start;

  color: var(--mod-toast-text-and-icon-color, var(--spectrum-toast-text-and-icon-color));
}

.spectrum-Toast-buttons {
  display: flex;
  flex: 0 0 auto;
  align-items: flex-start;

  margin-block-start: var(--mod-toast-spacing-top-edge-to-divider, var(--spectrum-toast-spacing-top-edge-to-divider));
  margin-block-end: var(--mod-toast-spacing-bottom-edge-to-divider, var(--spectrum-toast-spacing-bottom-edge-to-divider));

  /* Divider color for Text | Action Button */
  border-inline-start-color: var(--mod-toast-divider-color, var(--spectrum-toast-divider-color));
  padding-inline-end: var(--mod-toast-spacing-close-button, var(--spectrum-toast-spacing-close-button));

  .spectrum-CloseButton {
    align-self: flex-start;
  }
}

.spectrum-Toast-body {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  flex: 1 1 auto;
  align-self: center;

  padding-block-start: var(--mod-toast-spacing-edge-to-text-to-action-button-vertical, var(--spectrum-toast-spacing-edge-to-text-to-action-button-vertical));
  padding-block-end: var(--mod-toast-spacing-edge-to-text-to-action-button-vertical, var(--spectrum-toast-spacing-edge-to-text-to-action-button-vertical));

  .spectrum-Button {
    margin-inline-end: var(--mod-toast-spacing-text-and-action-button-to-divider, var(--spectrum-toast-spacing-text-and-action-button-to-divider));

    [dir="ltr"] & {
      margin-left: auto;
    }

    [dir="rtl"] & {
      margin-right: auto;
      margin-inline-end: var(--mod-toast-spacing-text-and-action-button-to-divider, var(--spectrum-toast-spacing-text-and-action-button-to-divider));
    }
  }

  & + .spectrum-Toast-buttons {
    padding-inline-start: var(--mod-toast-spacing-close-button, var(--spectrum-toast-spacing-close-button));

    border-inline-start-width: 1px;
    border-inline-start-style: solid;
  }
}
